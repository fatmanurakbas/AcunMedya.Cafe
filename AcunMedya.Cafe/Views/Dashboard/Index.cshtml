@model AcunMedya.Cafe.Controllers.DashboardViewModel

<div class="container-fluid page-body-wrapper">
    <div class="main-panel">
        <div class="content-wrapper">
            <h3 class="page-title">Dashboard</h3>
            <div class="row">

                <!-- Grafik Paneli -->
                <div class="col-lg-6 grid-margin stretch-card">
                    <div class="card">
                        <div class="card-body">
                            <h4 class="card-title">En Çok Tercih Edilen Kategori</h4>
                            <canvas id="categoryChart"></canvas>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
      const ctx = document.getElementById('categoryChart').getContext('2d');
      const categoryName = '@Model.MostPreferredCategory';

      const data = {
        labels: [categoryName],
        datasets: [{
          label: 'En Çok Tercih Edilen Kategori',
          data: [1],
          backgroundColor: ['rgba(54, 162, 235, 0.7)'],
          borderColor: ['rgba(54, 162, 235, 1)'],
          borderWidth: 1
        }]
      };

      const config = {
        type: 'bar',
        data: data,
        options: {
          indexAxis: 'y',
          responsive: true,
          plugins: {
            legend: { display: false },
            tooltip: { enabled: true }
          }
        }
      };

      new Chart(ctx, config);
    });
</script>
